<!-- src/app/app.component.html -->
<div class="app-shell">
    <div class="ipad-frame">
        <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á -->
        <div class="ipad-side-button"></div>

        <!-- ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏ö‡∏≠‡∏ó‡∏ô‡πâ‡∏≠‡∏¢‡∏ã‡πâ‡∏≤‡∏¢‡∏à‡∏≠ -->
        <div class="botnoi-badge">
            <img src="assets/botnoi.svg" alt="Botnoi" />
        </div>

        <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ -->
        <div class="ipad-screen">
            <header class="pokedex-header">
                <h1>My Pok√©dex</h1>
            </header>

            <main class="pokedex-main">
                <!-- ‡∏•‡∏¥‡∏™‡∏ï‡πå Pok√©dex ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ -->
                <div class="card-grid" *ngIf="pokedex.length; else emptyState">
                    <div class="poke-card" *ngFor="let card of pokedex" [style.background]="getCardColor(card)">
                        <div class="poke-card-inner">
                            <div class="poke-card-image">
                                <img [src]="card.imageUrl" [alt]="card.name" />
                            </div>

                            <div class="poke-card-info">
                                <h2>{{ card.name }}</h2>

                                <p class="hp">HP: {{ getHpLevel(card) }}</p>

                                <p class="types" *ngIf="card.types as types">
                                    Type: {{ types.join(', ') }}
                                </p>

                                <div class="stat-row">
                                    <span>Strength: {{ getStrengthLevel(card) }}</span>
                                </div>
                                <div class="stat-row">
                                    <span>Weakness: {{ getWeaknessLevel(card) }}</span>
                                </div>
                                <div class="stat-row">
                                    <span>Happiness: {{ getHappiness(card) }}</span>
                                </div>

                                <div class="modal-happiness-row">
                                    <ng-container *ngFor="let face of getHappinessArray(card)">
                                        <img src="assets/cute.png" alt="cute" class="happy-face" />
                                    </ng-container>
                                </div>

                                <button class="btn-remove" (click)="removeFromPokedex(card)">
                                    X
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πå‡∏î -->
                <ng-template #emptyState>
                    <div class="empty-hint">
                        
                        ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° + ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î
                    </div>
                </ng-template>
            </main>

            <!-- ‡πÅ‡∏ñ‡∏ö‡∏•‡πà‡∏≤‡∏á + ‡∏õ‡∏∏‡πà‡∏° + (‡∏≠‡∏¢‡∏π‡πà "‡πÉ‡∏ô‡∏à‡∏≠") -->
            <div class="bottom-dock">
                <button class="fab-add" (click)="openModal()">+</button>
            </div>

            <!-- Modal ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Pok√©mon (‡∏ó‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏ô) -->
            <div class="modal-backdrop" *ngIf="isModalOpen" (click)="closeModal()">
                <div class="modal-content" (click)="$event.stopPropagation()">
                    <!-- ‡πÅ‡∏ñ‡∏ß‡∏ö‡∏ô: ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß -->
                    <div class="modal-search-bar">
                        <input type="text" placeholder="Search by name..." [(ngModel)]="searchName"
                            (keyup.enter)="searchCards()" />
                        <button class="search-icon-btn" (click)="searchCards()">
                            <img src="assets/search.png" alt="Search" />
                        </button>
                    </div>

                    <p class="error-text" *ngIf="error">{{ error }}</p>
                    <p class="loading-text" *ngIf="searchLoading && !error">
                        ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏õ‡πÄ‡∏Å‡∏°‡πà‡∏≠‡∏ô...
                    </p>

                    <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏î‡πâ -->
                    <div class="modal-card-list" *ngIf="!searchLoading">
                        <p *ngIf="!searchResults.length && !error">
                            ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ô‡∏∞ ‡∏•‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡πÄ‡∏Å‡∏°‡πà‡∏≠‡∏ô‡∏î‡∏π‡∏à‡πâ‡∏≤ üí´
                        </p>

                        <div class="modal-card" *ngFor="let card of searchResults">
                            <!-- ‡∏õ‡∏∏‡πà‡∏° Add ‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤ ‡πÇ‡∏ú‡∏•‡πà‡∏ï‡∏≠‡∏ô hover -->
                            <button class="modal-card-add" (click)="addToPokedex(card)">
                                Add
                            </button>

                            <div class="modal-card-img">
                                <img [src]="card.imageUrl" [alt]="card.name" />
                            </div>

                            <div class="modal-card-info">
                                <h3>{{ card.name }}</h3>
                                <p *ngIf="card.types as types">Type: {{ types.join(', ') }}</p>

                                <!-- HP bar -->
                                <div class="modal-stat-row">
                                    <span class="stat-label">HP</span>
                                    <div class="stat-bar">
                                        <div class="stat-bar-fill" [style.width.%]="getHpBar(card)"></div>
                                    </div>
                                </div>

                                <!-- STR bar -->
                                <div class="modal-stat-row">
                                    <span class="stat-label">STR</span>
                                    <div class="stat-bar">
                                        <div class="stat-bar-fill" [style.width.%]="getStrengthBar(card)"></div>
                                    </div>
                                </div>

                                <!-- WEAK bar -->
                                <div class="modal-stat-row">
                                    <span class="stat-label">WEAK</span>
                                    <div class="stat-bar">
                                        <div class="stat-bar-fill" [style.width.%]="getWeaknessBar(card)"></div>
                                    </div>
                                </div>

                                <!-- Happiness emojis -->
                                <div class="modal-happiness-row">
                                    <ng-container *ngFor="let face of getHappinessArray(card)">
                                        <img src="assets/cute.png" alt="cute" class="happy-face" />
                                    </ng-container>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /modal -->
        </div>
        <!-- /ipad-screen -->
    </div>
</div>